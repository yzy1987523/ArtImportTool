# 艺术资源管理系统 - 控制台验证工具

这是一个简单的控制台应用，用于验证艺术资源管理系统的核心功能。

## 运行方式

### 方式1：使用dotnet run
```bash
cd src/ArtAssetManager.Console
dotnet run
```

### 方式2：直接运行可执行文件
```bash
# Windows
src\ArtAssetManager.Console\bin\Debug\net10.0\ArtAssetManager.Console.exe

# 或者从项目根目录
dotnet run --project src/ArtAssetManager.Console/ArtAssetManager.Console.csproj
```

## 功能说明

### 1. 导入资源
- 支持导入图片文件（PNG, JPG等）
- 自动计算文件哈希
- 自动提取元数据（尺寸、大小等）
- 自动去重检测

**使用方法**：
1. 选择菜单选项 `1`
2. 输入文件路径（可以直接拖拽文件到控制台窗口）
3. 系统会显示导入结果和资源信息

### 2. 查看资源
- 列出数据库中的所有资源
- 显示资源ID、名称、类型、大小、尺寸等信息

### 3. 标签管理
包含以下子功能：
- **查看所有标签**：按分类显示所有标签
- **创建标签**：创建新的标签（org/style/type/status）
- **为资源添加标签**：将标签关联到资源
- **按标签查询资源**：查找包含特定标签的所有资源

**默认标签**：
- org（原始占位资源）
- style_cartoon（卡通风格）
- style_realistic（写实风格）
- style_pixel（像素风格）
- type_ui（UI资源）
- type_character（角色资源）
- type_scene（场景资源）
- type_audio（音频资源）

### 4. 项目管理
包含以下子功能：
- **查看所有项目**：列出所有项目及其资源数量
- **创建项目**：创建新的Unity项目
- **为项目添加资源**：将资源关联到项目
- **查看项目资源**：查看项目中的所有资源

### 5. 查看数据库统计
显示数据库的整体统计信息：
- 资源总数
- 标签总数
- 项目总数
- 标签分类统计

## 数据库位置

数据库文件会在运行目录下创建：`art_asset_manager.db`

如果需要重置数据库，只需删除这个文件，下次运行时会自动重新创建。

## 验证流程示例

### 完整验证流程

1. **启动应用**
   ```bash
   dotnet run --project src/ArtAssetManager.Console/ArtAssetManager.Console.csproj
   ```

2. **导入资源**
   - 选择 `1` - 导入资源
   - 准备一些测试图片（PNG或JPG）
   - 输入文件路径或拖拽文件
   - 验证导入成功并显示资源信息

3. **查看资源**
   - 选择 `2` - 查看资源
   - 验证刚才导入的资源显示在列表中

4. **标签管理**
   - 选择 `3` - 标签管理
   - 选择 `1` - 查看所有标签（验证默认8个标签存在）
   - 选择 `2` - 创建标签（创建自定义标签）
   - 选择 `3` - 为资源添加标签（使用资源ID和标签ID）
   - 选择 `4` - 按标签查询资源（验证查询功能）

5. **项目管理**
   - 选择 `4` - 项目管理
   - 选择 `2` - 创建项目（如：TestProject, Assets/TestProject）
   - 选择 `3` - 为项目添加资源
   - 选择 `4` - 查看项目资源（验证资源已关联）
   - 选择 `1` - 查看所有项目（验证项目列表）

6. **查看统计**
   - 选择 `5` - 查看数据库统计
   - 验证所有数据正确统计

## 注意事项

1. **文件路径**：Windows下可以直接拖拽文件到控制台窗口，会自动填入路径
2. **ID复制**：资源ID和项目ID会显示为缩短格式（前8位），但在输入时需要使用完整ID
3. **中文支持**：控制台已设置UTF-8编码，支持中文显示
4. **错误处理**：如果操作失败，会显示错误信息

## 测试建议

### 基础功能测试
- ✅ 导入单个资源
- ✅ 导入重复资源（验证去重）
- ✅ 查看资源列表
- ✅ 创建标签
- ✅ 为资源添加标签
- ✅ 按标签查询资源
- ✅ 创建项目
- ✅ 为项目添加资源
- ✅ 查看项目资源

### 高级功能测试
- 为同一资源添加多个标签
- 将同一资源添加到多个项目
- 创建不同分类的标签
- 验证Unity路径唯一性（尝试创建相同Unity路径的项目）

## 已知限制

1. 当前仅支持图片文件的元数据提取（尺寸）
2. 音频文件的时长提取功能已实现但需要音频文件测试
3. 控制台界面较简单，主要用于功能验证
4. 资源列表默认只显示前20条

## 下一步

验证完成后，可以继续开发：
- Unity编辑器扩展（阶段2）
- WPF桌面应用（阶段3，可选）
